
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Subtitle Corrector (TR) - Configuration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; background: #f7f7f7; margin: 0; padding: 0; }
        .container { max-width: 650px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #0001; padding: 32px; }
        h1 { color: #1a73e8; margin-bottom: 0.5em; }
        .section { margin-bottom: 2em; }
        label { display: block; margin-bottom: 0.5em; font-weight: bold; }
        input[type="text"], input[type="password"] { width: 100%; padding: 8px; margin-bottom: 1em; border: 1px solid #ccc; border-radius: 4px; }
        .env-list { background: #f0f0f0; padding: 1em; border-radius: 4px; font-size: 0.95em; }
        .note { color: #888; font-size: 0.95em; }
        .footer { text-align: center; color: #aaa; font-size: 0.9em; margin-top: 2em; }
        .logo { width: 48px; vertical-align: middle; margin-right: 10px; }
        .install-link { background: #e3f2fd; border: 1px solid #90caf9; padding: 10px; border-radius: 6px; margin: 1em 0; font-size: 1.1em; word-break: break-all; }
        .button { background: #1a73e8; color: #fff; border: none; border-radius: 4px; padding: 10px 18px; font-size: 1em; cursor: pointer; margin-top: 1em; }
        .button:hover { background: #1765c1; }
    </style>
    <script>
    function generateInstallLink() {
        const base = window.location.origin;
        const manifestUrl = base + '/manifest.json';
        const stremioLink = `stremio://${base.replace('https://', '').replace('http://', '')}/manifest.json`;
        document.getElementById('stremio-install-link').textContent = stremioLink;
        document.getElementById('stremio-install-link-container').style.display = 'block';
        navigator.clipboard.writeText(stremioLink).catch(()=>{});
    }
    </script>
</head>
<body>
    <div class="container">
        <h1><img src="logo.svg" class="logo" alt="Logo">AI Subtitle Corrector (TR)</h1>
        <div class="section">
            <h2>Configuration & Diagnostics</h2>
            <p>This page provides information about your Stremio AI Subtitle Addon deployment and environment. To change API keys, set the following environment variables in your hosting provider (Heroku, etc):</p>
            <div class="env-list">
                <strong>Required:</strong><br>
                GEMINI_API_KEY<br>
                OPENSUBTITLES_API_KEY<br>
                TMDB_API_KEY<br>
                SUBDL_API_KEY
            </div>
            <p class="note">After updating environment variables, restart your server for changes to take effect.</p>
        </div>
        <div class="section">
            <h2>Health Check</h2>
            <p>Check the <a href="/health" target="_blank">/health</a> endpoint for live diagnostics.</p>
        </div>
        <div class="section">
            <h2>Endpoints</h2>
            <ul>
                <li><strong>Manifest:</strong> <code>/manifest.json</code></li>
                <li><strong>Subtitle .srt:</strong> <code>/subtitles/:videoId/:language.srt</code></li>
                <li><strong>Configure:</strong> <code>/configure</code> (this page)</li>
            </ul>
        </div>
        <div class="section">
            <h2>Stremio Install Link</h2>
            <button class="button" onclick="generateInstallLink()">Generate & Copy Stremio Install Link</button>
            <div id="stremio-install-link-container" style="display:none;">
                <div class="install-link" id="stremio-install-link"></div>
                <div class="note">Link copied to clipboard. Paste into Stremio's "Add addon by URL" field.</div>
            </div>
        </div>
        <div class="footer">
            &copy; 2025 AI Subtitle Corrector (TR) &mdash; <a href="https://github.com/4Liberty/vlsub-opensubtitles-com" target="_blank">GitHub</a>
        </div>
    </div>
</body>
</html>
